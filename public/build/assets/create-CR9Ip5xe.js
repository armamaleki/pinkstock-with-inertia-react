import{a as f,r as v,j as e}from"./app-DU7d5tre.js";import{M as b,m as S,u as m}from"./manager-layout-C0spymFT.js";import{C,b as N,a as y}from"./card-BUzEfdx-.js";import{L as n}from"./label-D8R2SxXF.js";import{I as p}from"./input-MC7-k6Ws.js";import{I as i}from"./input-error-BNcuCH5j.js";import{B as E}from"./button-CKWlLcLf.js";import{S as I,a as L,b as F,c as w,e as B,f as D,d as M}from"./select-DMWX37mx.js";/* empty css            */import"./index-CMWG4mbA.js";import"./createLucideIcon-C1S5xWp5.js";import"./user-UCLAM07n.js";import"./shield-alert-CCAkoVJ2.js";import"./newspaper-0CVD_Vah.js";import"./breadcrumbs-U8cnLvwu.js";import"./index-DflaIdfL.js";import"./index-BU2SmABb.js";import"./index-DH2GQcYo.js";import"./index-BKwSFe84.js";import"./index-BkZgiu9x.js";import"./index-CJSkOltT.js";import"./floating-ui.dom-CjS6efmT.js";import"./chevron-down-Cw3xTfSY.js";import"./check-CUfGsVcc.js";const U=[{title:"مدیریت",href:S.index()},{title:"کاربران",href:m.index()},{title:"اضافه کردن کاربر جدید",href:m.create()}];function oe({rolesList:h}){const{data:a,setData:o,post:x,processing:c,errors:t,reset:u,clearErrors:g}=f({name:"",phone:"",role:""}),[l,d]=v.useState({}),j=r=>{r.preventDefault(),d({}),g();const s={};if(a.phone?/^09\d{9}$/.test(a.phone)||(s.phone="فرمت شماره موبایل معتبر نیست (باید با 09 شروع شود و 11 رقم باشد)."):s.phone="شماره موبایل الزامی است.",a.role||(s.role="انتخاب نقش الزامی است."),Object.keys(s).length>0){d(s);return}x(m.store(),{onSuccess:()=>u("name","phone","role")})};return e.jsx(b,{breadcrumbs:U,children:e.jsxs(C,{className:"bg-gray-800",children:[e.jsx(N,{children:"اضافه کردن کاربر جدید"}),e.jsx(y,{children:e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 items-center gap-2",children:[e.jsx(n,{htmlFor:"name",children:"نام کاربر"}),e.jsxs("div",{className:"col-span-1 md:col-span-3",children:[e.jsx(p,{name:"name",id:"name",value:a.name,onChange:r=>o("name",r.target.value),type:"text",placeholder:"نام کاربر می‌تونه خالی باشه، بیشتر از ۲۵۰ کاراکتر نباشه"}),e.jsx(i,{message:t.name||l.name})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 items-center gap-2",children:[e.jsx(n,{htmlFor:"phone",children:"تلفن همراه"}),e.jsxs("div",{className:"col-span-1 md:col-span-3",children:[e.jsx(p,{name:"phone",id:"phone",value:a.phone,onChange:r=>o("phone",r.target.value),type:"text",placeholder:"تلفن همراه | عدد انگلیسی | ۱۱ رقم | یکتا",required:!0}),e.jsx(i,{message:t.phone||l.phone})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 items-center gap-2",children:[e.jsx(n,{htmlFor:"role",children:"دسترسی کاربر"}),e.jsxs("div",{className:"col-span-1 md:col-span-3",children:[e.jsxs(I,{dir:"rtl",value:a.role,onValueChange:r=>o("role",r),children:[e.jsx(L,{className:"bg-gray-900",children:e.jsx(F,{placeholder:"انتخاب دسترسی کاربر (برای مشتری‌ها User انتخاب شود)"})}),e.jsx(w,{children:e.jsxs(B,{children:[e.jsx(D,{children:"دسترسی"}),h.data.map((r,s)=>e.jsx(M,{value:r.name,children:r.name},s))]})})]}),e.jsx(i,{message:t.role||l.role})]})]}),e.jsx(E,{type:"submit",className:"w-full relative",disabled:c,children:c?"در حال ذخیره...":"ذخیره"})]})})]})})}export{oe as default};
