import{a as v,r as p,j as e}from"./app-BbxXLRul.js";import{I as i}from"./input-error-DlQOMx44.js";import{B as b}from"./button-BtOEBzvR.js";import{C as S,b as N,a as C}from"./card-C9_oKF3a.js";import{I as h}from"./input-A6g_7zzm.js";import{L as c}from"./label-DYjoxDP0.js";import{M as E,m as y,u as x}from"./manager-layout-GRPDWmLm.js";import{S as L,a as F,b as w,c as B,e as D,f as M,d as U}from"./select-BTHLsxg7.js";/* empty css            */import"./createLucideIcon-CjC7YcGE.js";import"./index-CuT1okLP.js";import"./index-CMWG4mbA.js";import"./newspaper-CT_I_UHu.js";import"./breadcrumbs-C8wORFW4.js";import"./index-Ca9VKaca.js";import"./index-BqkBN-ot.js";import"./index-CO1LrM18.js";import"./index-Dbr7_qqj.js";import"./index-BxDbiuQ6.js";import"./floating-ui.dom-CjS6efmT.js";import"./chevron-down-CJs9HldI.js";import"./check-BrOuSPjO.js";const V=[{title:"مدیریت",href:y.index()},{title:"کاربران",href:x.index()},{title:"ویرایش کاربر",href:"#"}];function re({rolesList:g,userItem:r}){console.log(r);const{data:o,setData:l,patch:j,processing:d,errors:t,clearErrors:u}=v({name:r.data.name||"",phone:r.data.phone||"",role:r.data.role||""}),[n,m]=p.useState({});p.useEffect(()=>{l({name:r.data.name||"",phone:r.data.phone||"",role:r.data.role||""})},[r]);const f=a=>{a.preventDefault(),m({}),u();const s={};if(o.phone?/^09\d{9}$/.test(o.phone)||(s.phone="فرمت شماره موبایل معتبر نیست (باید با 09 شروع شود و 11 رقم باشد)."):s.phone="شماره موبایل الزامی است.",o.role||(s.role="انتخاب نقش الزامی است."),Object.keys(s).length>0){m(s);return}j(x.update(r.data.id),{preserveScroll:!0})};return e.jsx(E,{breadcrumbs:V,children:e.jsxs(S,{className:"bg-gray-800",children:[e.jsx(N,{children:"ویرایش اطلاعات کاربر"}),e.jsx(C,{children:e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 items-center gap-2 md:grid-cols-4",children:[e.jsx(c,{htmlFor:"name",children:"نام کاربر"}),e.jsxs("div",{className:"col-span-1 md:col-span-3",children:[e.jsx(h,{name:"name",id:"name",value:o.name,onChange:a=>l("name",a.target.value),type:"text",placeholder:"نام کاربر (اختیاری، حداکثر ۲۵۰ کاراکتر)"}),e.jsx(i,{message:t.name||n.name})]})]}),e.jsxs("div",{className:"grid grid-cols-1 items-center gap-2 md:grid-cols-4",children:[e.jsx(c,{htmlFor:"phone",children:"تلفن همراه"}),e.jsxs("div",{className:"col-span-1 md:col-span-3",children:[e.jsx(h,{name:"phone",id:"phone",value:o.phone,onChange:a=>l("phone",a.target.value),type:"text",placeholder:"تلفن همراه | عدد انگلیسی | ۱۱ رقم | یکتا",required:!0}),e.jsx(i,{message:t.phone||n.phone})]})]}),e.jsxs("div",{className:"grid grid-cols-1 items-center gap-2 md:grid-cols-4",children:[e.jsx(c,{htmlFor:"role",children:"دسترسی کاربر"}),e.jsxs("div",{className:"col-span-1 md:col-span-3",children:[e.jsxs(L,{dir:"rtl",value:o.role,onValueChange:a=>l("role",a),children:[e.jsx(F,{className:"bg-gray-900",children:e.jsx(w,{placeholder:"انتخاب دسترسی کاربر (برای مشتری‌ها User انتخاب شود)"})}),e.jsx(B,{children:e.jsxs(D,{children:[e.jsx(M,{children:"دسترسی"}),g.data.map((a,s)=>e.jsx(U,{value:a.name,children:a.name},s))]})})]}),e.jsx(i,{message:t.role||n.role})]})]}),e.jsx(b,{type:"submit",className:"relative w-full",disabled:d,children:d?"در حال ذخیره...":"ذخیره تغییرات"})]})})]})})}export{re as default};
