import{a as v,r as p,j as e}from"./app-C7BUMZxc.js";import{I as i}from"./input-error-CvRxuyVS.js";import{B as b}from"./button-CB3EUj3U.js";import{C as S,b as N,a as C}from"./card-C_BN1L4v.js";import{I as h}from"./input-Dp02Z2Td.js";import{L as c}from"./label-SibgTxlJ.js";import{M as E,m as y,u as x}from"./manager-layout-es--mFHb.js";import{S as L,a as F,b as w,c as B,e as D,f as M,d as U}from"./select-z_lXGvUL.js";/* empty css            */import"./createLucideIcon-CudvXGUV.js";import"./index-BM2QLElK.js";import"./index-CMWG4mbA.js";import"./user-JzUm4Yqh.js";import"./newspaper-DttnvH6y.js";import"./breadcrumbs-BsbwedAE.js";import"./index-CYON_kPD.js";import"./index-8P5hxlJJ.js";import"./index-DDh47Q8h.js";import"./index-DFDTgO0w.js";import"./index-CPYJp1kN.js";import"./floating-ui.dom-CjS6efmT.js";import"./chevron-down-BDMtQg1U.js";import"./check-BEPecuUF.js";const V=[{title:"مدیریت",href:y.index()},{title:"کاربران",href:x.index()},{title:"ویرایش کاربر",href:"#"}];function se({rolesList:g,userItem:a}){console.log(a);const{data:o,setData:t,patch:j,processing:d,errors:l,clearErrors:u}=v({name:a.data.name||"",phone:a.data.phone||"",role:a.data.role||""}),[n,m]=p.useState({});p.useEffect(()=>{t({name:a.data.name||"",phone:a.data.phone||"",role:a.data.role||""})},[a]);const f=r=>{r.preventDefault(),m({}),u();const s={};if(o.phone?/^09\d{9}$/.test(o.phone)||(s.phone="فرمت شماره موبایل معتبر نیست (باید با 09 شروع شود و 11 رقم باشد)."):s.phone="شماره موبایل الزامی است.",o.role||(s.role="انتخاب نقش الزامی است."),Object.keys(s).length>0){m(s);return}j(x.update(a.data.id),{preserveScroll:!0})};return e.jsx(E,{breadcrumbs:V,children:e.jsxs(S,{className:"bg-gray-800",children:[e.jsx(N,{children:"ویرایش اطلاعات کاربر"}),e.jsx(C,{children:e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 items-center gap-2 md:grid-cols-4",children:[e.jsx(c,{htmlFor:"name",children:"نام کاربر"}),e.jsxs("div",{className:"col-span-1 md:col-span-3",children:[e.jsx(h,{name:"name",id:"name",value:o.name,onChange:r=>t("name",r.target.value),type:"text",placeholder:"نام کاربر (اختیاری، حداکثر ۲۵۰ کاراکتر)"}),e.jsx(i,{message:l.name||n.name})]})]}),e.jsxs("div",{className:"grid grid-cols-1 items-center gap-2 md:grid-cols-4",children:[e.jsx(c,{htmlFor:"phone",children:"تلفن همراه"}),e.jsxs("div",{className:"col-span-1 md:col-span-3",children:[e.jsx(h,{name:"phone",id:"phone",value:o.phone,onChange:r=>t("phone",r.target.value),type:"text",placeholder:"تلفن همراه | عدد انگلیسی | ۱۱ رقم | یکتا",required:!0}),e.jsx(i,{message:l.phone||n.phone})]})]}),e.jsxs("div",{className:"grid grid-cols-1 items-center gap-2 md:grid-cols-4",children:[e.jsx(c,{htmlFor:"role",children:"دسترسی کاربر"}),e.jsxs("div",{className:"col-span-1 md:col-span-3",children:[e.jsxs(L,{dir:"rtl",value:o.role,onValueChange:r=>t("role",r),children:[e.jsx(F,{className:"bg-gray-900",children:e.jsx(w,{placeholder:"انتخاب دسترسی کاربر (برای مشتری‌ها User انتخاب شود)"})}),e.jsx(B,{children:e.jsxs(D,{children:[e.jsx(M,{children:"دسترسی"}),g.data.map((r,s)=>e.jsx(U,{value:r.name,children:r.name},s))]})})]}),e.jsx(i,{message:l.role||n.role})]})]}),e.jsx(b,{type:"submit",className:"relative w-full",disabled:d,children:d?"در حال ذخیره...":"ذخیره تغییرات"})]})})]})})}export{se as default};
